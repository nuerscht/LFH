@(users: List[models.User])
@import models._
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<customers>
	@for(user <- users){
	@defining(user.getAddresses()(0)){ first =>
    <customer id="@user.getId()">
        <name>@first.getLastname()</name>
        <firstname>@first.getFirstname()</firstname>
        <addresses>
        @for(add <- user.getAddresses()){
           <address id="@add.getId()" type="1">
           <city>@add.getPlace()</city>
           <street>@add.getStreet()</street>
           <postcode>@add.getZip()</postcode>
           <country>@if(add.getCountry()!= null){@add.getCountry().getName()}</country>
           </address>
         }
        </addresses>
        <email>@first.getEmail()</email>
        <birthdate>@if(first.getBirthday()!=null){ @{first.getBirthday().getTime() / 1000L} }</birthdate>
      </customer>
     }
    }
</customers>